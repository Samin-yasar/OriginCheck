const countryData = {
  "000-019": { name: "United States (UPC-A compatible)", flag: "ðŸ‡ºðŸ‡¸" },
  "020-029": { name: "United States (restricted circulation numbers)", flag: "ðŸ‡ºðŸ‡¸" },
  "030-039": { name: "United States (drugs, National Drug Code)", flag: "ðŸ‡ºðŸ‡¸" },
  "040-049": { name: "United States (restricted circulation within a company)", flag: "ðŸ‡ºðŸ‡¸" },
  "050-059": { name: "United States (reserved for future use)", flag: "ðŸ‡ºðŸ‡¸" },
  "060-099": { name: "United States (UPC-A compatible)", flag: "ðŸ‡ºðŸ‡¸" },
  "100-139": { name: "United States", flag: "ðŸ‡ºðŸ‡¸" },
  "200-299": { name: "GS1 (restricted circulation within a region)", flag: "ðŸŒ" },
  "300-379": { name: "France and Monaco", flag: "ðŸ‡«ðŸ‡·" },
  "380": { name: "Bulgaria", flag: "ðŸ‡§ðŸ‡¬" },
  "383": { name: "Slovenia", flag: "ðŸ‡¸ðŸ‡®" },
  "385": { name: "Croatia", flag: "ðŸ‡­ðŸ‡·" },
  "387": { name: "Bosnia and Herzegovina", flag: "ðŸ‡§ðŸ‡¦" },
  "389": { name: "Montenegro", flag: "ðŸ‡²ðŸ‡ª" },
  "390": { name: "Kosovo", flag: "ðŸ‡½ðŸ‡°" },
  "400-440": { name: "Germany", flag: "ðŸ‡©ðŸ‡ª" },
  "450-459": { name: "Japan", flag: "ðŸ‡¯ðŸ‡µ" },
  "460-469": { name: "Russia", flag: "ðŸ‡·ðŸ‡º" },
  "470": { name: "Kyrgyzstan", flag: "ðŸ‡°ðŸ‡¬" },
  "471": { name: "Taiwan", flag: "ðŸ‡¹ðŸ‡¼" },
  "474": { name: "Estonia", flag: "ðŸ‡ªðŸ‡ª" },
  "475": { name: "Latvia", flag: "ðŸ‡±ðŸ‡»" },
  "476": { name: "Azerbaijan", flag: "ðŸ‡¦ðŸ‡¿" },
  "477": { name: "Lithuania", flag: "ðŸ‡±ðŸ‡·" },
  "479": { name: "Sri Lanka", flag: "ðŸ‡±ðŸ‡°" },
  "480": { name: "Philippines", flag: "ðŸ‡µðŸ‡­" },
  "481": { name: "Belarus", flag: "ðŸ‡§ðŸ‡¾" },
  "482": { name: "Ukraine", flag: "ðŸ‡ºðŸ‡¦" },
  "483": { name: "Turkmenistan", flag: "ðŸ‡¹ðŸ‡²" },
  "484": { name: "Moldova", flag: "ðŸ‡²ðŸ‡©" },
  "485": { name: "Armenia", flag: "ðŸ‡¦ðŸ‡²" },
  "486": { name: "Georgia", flag: "ðŸ‡¬ðŸ‡ª" },
  "487": { name: "Kazakhstan", flag: "ðŸ‡°ðŸ‡¿" },
  "488": { name: "Tajikistan", flag: "ðŸ‡¹ðŸ‡¯" },
  "489": { name: "Hong Kong", flag: "ðŸ‡­ðŸ‡°" },
  "490-499": { name: "Japan (original)", flag: "ðŸ‡¯ðŸ‡µ" },
  "500-509": { name: "United Kingdom", flag: "ðŸ‡¬ðŸ‡§" },
  "520-521": { name: "Greece", flag: "ðŸ‡¬ðŸ‡·" },
  "528": { name: "Lebanon", flag: "ðŸ‡±ðŸ‡§" },
  "529": { name: "Cyprus", flag: "ðŸ‡¨ðŸ‡¾" },
  "530": { name: "Albania", flag: "ðŸ‡¦ðŸ‡±" },
  "531": { name: "North Macedonia", flag: "ðŸ‡²ðŸ‡°" },
  "535": { name: "Malta", flag: "ðŸ‡²ðŸ‡¹" },
  "539": { name: "Ireland", flag: "ðŸ‡®ðŸ‡ª" },
  "540-549": { name: "Belgium and Luxembourg", flag: "ðŸ‡§ðŸ‡ªðŸ‡±ðŸ‡º" },
  "560": { name: "Portugal", flag: "ðŸ‡µðŸ‡¹" },
  "569": { name: "Iceland", flag: "ðŸ‡®ðŸ‡¸" },
  "570-579": { name: "Denmark, Faroe Islands, and Greenland", flag: "ðŸ‡©ðŸ‡°" },
  "590": { name: "Poland", flag: "ðŸ‡µðŸ‡±" },
  "594": { name: "Romania", flag: "ðŸ‡·ðŸ‡´" },
  "599": { name: "Hungary", flag: "ðŸ‡­ðŸ‡º" },
  "600-601": { name: "South Africa", flag: "ðŸ‡¿ðŸ‡¦" },
  "603": { name: "Ghana", flag: "ðŸ‡¬ðŸ‡­" },
  "604": { name: "Senegal", flag: "ðŸ‡¸ðŸ‡³" },
  "605": { name: "Uganda", flag: "ðŸ‡ºðŸ‡¬" },
  "606": { name: "Angola", flag: "ðŸ‡¦ðŸ‡´" },
  "607": { name: "Oman", flag: "ðŸ‡´ðŸ‡²" },
  "608": { name: "Bahrain", flag: "ðŸ‡§ðŸ‡­" },
  "609": { name: "Mauritius", flag: "ðŸ‡²ðŸ‡º" },
  "611": { name: "Morocco", flag: "ðŸ‡²ðŸ‡¦" },
  "612": { name: "Somalia", flag: "ðŸ‡¸ðŸ‡´" },
  "613": { name: "Algeria", flag: "ðŸ‡©ðŸ‡¿" },
  "615": { name: "Nigeria", flag: "ðŸ‡³ðŸ‡¬" },
  "616": { name: "Kenya", flag: "ðŸ‡°ðŸ‡ª" },
  "617": { name: "Cameroon", flag: "ðŸ‡¨ðŸ‡²" },
  "618": { name: "Ivory Coast", flag: "ðŸ‡¨ðŸ‡®" },
  "619": { name: "Tunisia", flag: "ðŸ‡¹ðŸ‡³" },
  "620": { name: "Tanzania", flag: "ðŸ‡¹ðŸ‡¿" },
  "621": { name: "Syria", flag: "ðŸ‡¸ðŸ‡¾" },
  "622": { name: "Egypt", flag: "ðŸ‡ªðŸ‡¬" },
  "623": { name: "Brunei", flag: "ðŸ‡§ðŸ‡³" },
  "624": { name: "Libya", flag: "ðŸ‡±ðŸ‡¾" },
  "625": { name: "Jordan", flag: "ðŸ‡¯ðŸ‡´" },
  "626": { name: "Iran", flag: "ðŸ‡®ðŸ‡·" },
  "627": { name: "Kuwait", flag: "ðŸ‡°ðŸ‡¼" },
  "628": { name: "Saudi Arabia", flag: "ðŸ‡¸ðŸ‡¦" },
  "629": { name: "United Arab Emirates", flag: "ðŸ‡¦ðŸ‡ª" },
  "630": { name: "Qatar", flag: "ðŸ‡¶ðŸ‡¦" },
  "631": { name: "Namibia", flag: "ðŸ‡³ðŸ‡¦" },
  "632": { name: "Rwanda", flag: "ðŸ‡·ðŸ‡¼" },
  "640-649": { name: "Finland", flag: "ðŸ‡«ðŸ‡®" },
  "680-681": { name: "China", flag: "ðŸ‡¨ðŸ‡³" },
  "690-699": { name: "China", flag: "ðŸ‡¨ðŸ‡³" },
  "700-709": { name: "Norway", flag: "ðŸ‡³ðŸ‡´" },
  "729": { name: "Israel", flag: "ðŸ‡®ðŸ‡±" },
  "730-739": { name: "Sweden", flag: "ðŸ‡¸ðŸ‡ª" },
  "740": { name: "Guatemala", flag: "ðŸ‡¬ðŸ‡¹" },
  "741": { name: "El Salvador", flag: "ðŸ‡¸ðŸ‡»" },
  "742": { name: "Honduras", flag: "ðŸ‡­ðŸ‡³" },
  "743": { name: "Nicaragua", flag: "ðŸ‡³ðŸ‡®" },
  "744": { name: "Costa Rica", flag: "ðŸ‡¨ðŸ‡·" },
  "745": { name: "Panama", flag: "ðŸ‡µðŸ‡¦" },
  "746": { name: "Dominican Republic", flag: "ðŸ‡©ðŸ‡´" },
  "750": { name: "Mexico", flag: "ðŸ‡²ðŸ‡½" },
  "754-755": { name: "Canada", flag: "ðŸ‡¨ðŸ‡¦" },
  "759": { name: "Venezuela", flag: "ðŸ‡»ðŸ‡ª" },
  "760-769": { name: "Switzerland and Liechtenstein", flag: "ðŸ‡¨ðŸ‡­" },
  "770-771": { name: "Colombia", flag: "ðŸ‡¨ðŸ‡´" },
  "773": { name: "Uruguay", flag: "ðŸ‡ºðŸ‡¾" },
  "775": { name: "Peru", flag: "ðŸ‡µðŸ‡ª" },
  "777": { name: "Paraguay", flag: "ðŸ‡µðŸ‡¾" },
  "778": { name: "Chile", flag: "ðŸ‡¨ðŸ‡±" },
  "779": { name: "Argentina", flag: "ðŸ‡¦ðŸ‡·" },
  "780": { name: "Chile", flag: "ðŸ‡¨ðŸ‡±" },
  "781": { name: "Argentina", flag: "ðŸ‡¦ðŸ‡·" },
  "782": { name: "Paraguay", flag: "ðŸ‡µðŸ‡¾" },
  "786": { name: "Ecuador", flag: "ðŸ‡ªðŸ‡¨" },
  "789-790": { name: "Brazil", flag: "ðŸ‡§ðŸ‡·" },
  "800-839": { name: "Italy, San Marino, and Vatican City", flag: "ðŸ‡®ðŸ‡¹" },
  "840-849": { name: "Spain and Andorra", flag: "ðŸ‡ªðŸ‡¸" },
  "850": { name: "Cuba", flag: "ðŸ‡¨ðŸ‡º" },
  "858": { name: "Slovakia", flag: "ðŸ‡¸ðŸ‡°" },
  "859": { name: "Czech Republic", flag: "ðŸ‡¨ðŸ‡¿" },
  "860": { name: "Serbia", flag: "ðŸ‡·ðŸ‡¸" },
  "865": { name: "Mongolia", flag: "ðŸ‡²ðŸ‡³" },
  "867": { name: "North Korea", flag: "ðŸ‡°ðŸ‡µ" },
  "868-869": { name: "Turkey", flag: "ðŸ‡¹ðŸ‡·" },
  "870-879": { name: "Netherlands", flag: "ðŸ‡³ðŸ‡±" },
  "880-881": { name: "South Korea", flag: "ðŸ‡°ðŸ‡·" },
  "883": { name: "Myanmar", flag: "ðŸ‡²ðŸ‡²" },
  "884": { name: "Cambodia", flag: "ðŸ‡°ðŸ‡­" },
  "885": { name: "Thailand", flag: "ðŸ‡¹ðŸ‡­" },
  "888": { name: "Singapore", flag: "ðŸ‡¸ðŸ‡¬" },
  "890": { name: "India", flag: "ðŸ‡®ðŸ‡³" },
  "893": { name: "Vietnam", flag: "ðŸ‡»ðŸ‡³" },
  "894": { name: "Bangladesh", flag: "ðŸ‡§ðŸ‡©" },
  "896": { name: "Pakistan", flag: "ðŸ‡µðŸ‡°" },
  "899": { name: "Indonesia", flag: "ðŸ‡®ðŸ‡©" },
  "900-919": { name: "Austria", flag: "ðŸ‡¦ðŸ‡¹" },
  "930-939": { name: "Australia", flag: "ðŸ‡¦ðŸ‡º" },
  "940-949": { name: "New Zealand", flag: "ðŸ‡³ðŸ‡¿" },
  "950": { name: "GS1 Global Office", flag: "ðŸŒ" },
  "951": { name: "EPC General Identifier (GID)", flag: "ðŸŒ" },
  "952": { name: "GS1 Demonstrations and Examples", flag: "ðŸŒ" },
  "955": { name: "Malaysia", flag: "ðŸ‡²ðŸ‡¾" },
  "958": { name: "Macau", flag: "ðŸ‡²ðŸ‡´" },
  "960-969": { name: "GS1 Global Office: GTIN-8 allocations", flag: "ðŸŒ" },
  "977": { name: "Serial publications (ISSN)", flag: "ðŸ“–" },
  "978-979": { name: "Bookland (ISBN)", flag: "ðŸ“š" },
  "980": { name: "Refund receipts", flag: "ðŸ§¾" },
  "981-983": { name: "GS1 coupon identification (common currency)", flag: "ðŸ’µ" },
  "990-999": { name: "GS1 coupon identification", flag: "ðŸ’µ" }
};

// Pre-process countryData into a prefix lookup table
const prefixLookup = {};
for (let range in countryData) {
  const [start, end] = range.split('-').map(num => parseInt(num));
  if (isNaN(end)) {
    // Single prefix (e.g., "894")
    prefixLookup[start.toString().padStart(3, '0')] = countryData[range];
  } else {
    // Range (e.g., "000-019")
    for (let i = start; i <= end; i++) {
      prefixLookup[i.toString().padStart(3, '0')] = countryData[range];
    }
  }
}

function getCountryByEANPrefix(prefix) {
  const cleanPrefix = prefix.trim().padStart(3, '0');
  console.log(`Looking up prefix: "${cleanPrefix}"`); // Debug
  const result = prefixLookup[cleanPrefix] || { name: "Unknown Origin", flag: "â“" };
  console.log(`Match:`, result); // Debug
  return result;
}

export { countryData, getCountryByEANPrefix };
